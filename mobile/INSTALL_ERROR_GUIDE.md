# APK 설치 실패 해결 가이드

## 🔍 핸드폰에서 직접 설치할 때 발생하는 에러들

### 1. "앱이 이미 설치되어 있습니다" 또는 "INSTALL_FAILED_UPDATE_INCOMPATIBLE"

**원인**: 같은 패키지 이름(`com.bizconnectmobile`)의 앱이 다른 서명 키로 설치되어 있음

**해결 방법**:
1. 설정 → 앱 → "BizConnect" 또는 관련 앱 찾기
2. 앱 선택 → 제거
3. APK 파일 다시 설치

### 2. "알 수 없는 소스에서 설치할 수 없습니다"

**원인**: 보안 설정에서 알 수 없는 소스 설치가 비활성화됨

**해결 방법**:
- **Android 8.0 이상**: 
  - APK 파일을 열 때 나타나는 팝업에서 "설치" 클릭
  - 또는 설정 → 앱 → 특정 앱 → 알 수 없는 앱 설치 허용
- **Android 7.0 이하**:
  - 설정 → 보안 → 알 수 없는 소스 체크

### 3. "저장 공간이 부족합니다" 또는 "INSTALL_FAILED_INSUFFICIENT_STORAGE"

**원인**: 기기 저장 공간 부족 (APK는 약 55MB)

**해결 방법**:
- 불필요한 앱 삭제
- 사진/동영상 정리
- 캐시 정리 (설정 → 저장 공간 → 캐시 데이터 삭제)

### 4. "이 앱은 기기와 호환되지 않습니다"

**원인**: 
- 기기의 Android 버전이 앱의 최소 요구사항보다 낮음
- 기기 아키텍처(ARM/x86)가 지원되지 않음

**해결 방법**:
- Android 버전 확인: 설정 → 디바이스 정보 → Android 버전
- 최소 Android 버전: Android 5.0 (API 21) 이상 필요

### 5. "패키지가 손상되었습니다" 또는 "INSTALL_PARSE_FAILED_NO_CERTIFICATES"

**원인**: APK 파일이 손상되었거나 불완전하게 빌드됨

**해결 방법**:
- 새로 빌드된 APK 사용
- APK 파일을 다시 다운로드/복사

### 6. "버전이 낮아서 설치할 수 없습니다" 또는 "INSTALL_FAILED_VERSION_DOWNGRADE"

**원인**: 설치하려는 APK의 버전 코드가 기존 앱보다 낮음

**해결 방법**:
- 기존 앱 제거 후 재설치
- 또는 버전 코드가 더 높은 새 APK 사용 (현재 버전 코드: 2)

## 🔧 단계별 해결 방법

### Step 1: 기존 앱 완전히 제거

1. **설정 → 앱** 이동
2. **"BizConnect"** 또는 **"com.bizconnectmobile"** 검색
3. 앱 선택 → **제거**
4. 기기 재부팅 (선택사항)

### Step 2: 보안 설정 확인

1. **설정 → 보안** (또는 **설정 → 앱 → 특정 앱**)
2. **"알 수 없는 소스"** 또는 **"알 수 없는 앱 설치"** 허용
3. APK 파일을 열 때 나타나는 경고에서 **"설치"** 클릭

### Step 3: APK 파일 확인

- 파일 크기: 약 54-55 MB
- 파일 위치: `mobile/android/app/build/outputs/apk/debug/app-debug.apk`
- 파일이 손상되지 않았는지 확인

### Step 4: 저장 공간 확인

- **설정 → 저장 공간** 확인
- 최소 100MB 이상 여유 공간 필요

### Step 5: 재설치 시도

1. APK 파일을 핸드폰으로 복사
2. 파일 관리자에서 APK 파일 열기
3. 설치 진행

## 📱 ADB를 사용한 설치 (USB 디버깅 가능한 경우)

```powershell
# 1. 기존 앱 제거
adb uninstall com.bizconnectmobile

# 2. 새 APK 설치
adb install -r android\app\build\outputs\apk\debug\app-debug.apk
```

## ⚠️ 중요 사항

1. **같은 패키지 이름의 앱은 하나만 설치 가능**
   - 다른 프로젝트의 APK와는 충돌하지 않음 (패키지 이름이 다르면)
   - 같은 프로젝트의 이전 버전과는 충돌할 수 있음

2. **서명 키가 다르면 덮어쓸 수 없음**
   - Debug 키로 빌드된 APK는 다른 Debug 키로 빌드된 APK로 덮어쓸 수 없음
   - 기존 앱을 먼저 제거해야 함

3. **버전 코드는 항상 증가해야 함**
   - 현재 버전 코드: **2**
   - 같은 버전 코드로는 업데이트 불가

## 🆘 여전히 설치가 안 되는 경우

구체적인 에러 메시지를 알려주시면 더 정확한 해결 방법을 제시할 수 있습니다.

일반적인 에러 메시지 예시:
- "앱이 이미 설치되어 있습니다"
- "패키지가 손상되었습니다"
- "저장 공간이 부족합니다"
- "이 앱은 기기와 호환되지 않습니다"
- 기타 에러 메시지

